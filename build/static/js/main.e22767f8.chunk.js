(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{24:function(e,t,n){e.exports=n(35)},3:function(e,t){e.exports={API_BASE_URL:"https://mighty-sea-18998.herokuapp.com"}},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),s=n.n(r),i=n(18),c=n(7),l=n(8),u=n(10),d=n(9),p=n(11),h=n(6),m=n(3),f=n.n(m),g=function(){return fetch("".concat(f.a.API_BASE_URL,"/dog-queue")).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))},E=function(){return fetch("".concat(f.a.API_BASE_URL,"/cat-queue")).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))},b=function(){return fetch("".concat(f.a.API_BASE_URL,"/dogs")).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))},v=function(){return fetch("".concat(f.a.API_BASE_URL,"/cats")).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))},S=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleAdoption=function(t){fetch("".concat(f.a.API_BASE_URL,"/cats"),{method:"DELETE",header:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Something went wrong adopting this pet, please try again later")})).then((function(t){e.props.adoptCat(t)})).then((function(){fetch("".concat(f.a.API_BASE_URL,"/cat-queue"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Something went wrong adopting this pet, please try again later")})).then((function(t){e.props.removeCatPerson(t)}))})).then((function(){2===e.props.catList.length?e.setState({adoptEnabled:!0}):e.setState({adoptEnabled:!1})}))},e.addPerson=function(t){var n;(n=t,fetch("".concat(f.a.API_BASE_URL,"/cat-queue"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({person:n})}).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))).then((function(t){e.props.catListAdd(t),e.intervalForDemo()}))},e.handleSubmit=function(t){t.preventDefault();var n=t.target.person;e.addPerson(n.value)},e.state={userInput:0,intervalId:0,adoptEnabled:!1,addPersonDisabled:!1},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState({userInput:e.target.value})}},{key:"intervalForDemo",value:function(){var e=this,t=!1,n=["Meet","Neel","Jay","Ayushi","Vishal"];this.intervalId=setInterval((function(){if(t&&e.props.catList.length>=5&&(t=!1),0===e.props.catList.length&&(t=!0),t){var a=Math.floor(Math.random()*n.length);e.addPerson(n[a]),e.setState({addPersonDisabled:!0,adoptEnabled:!1})}else e.handleAdoption(),e.setState({addPersonDisabled:!1,adoptEnabled:!0});if(e.props.cats.length<=0)return clearInterval(e.intervalId)}),5e3)}},{key:"componentWillUnmount",value:function(){return clearInterval(this.intervalId)}},{key:"render",value:function(){for(var e,t,n=this,a=this.props.catList.map((function(e,t){return o.a.createElement("div",{key:t,className:"person"},o.a.createElement("h3",null,e))})),r=0;r<this.props.cats.length;r++)e=this.props.cats[r];if(e){var s=e;t=o.a.createElement("div",{key:s.id,className:"animal"},o.a.createElement("img",{alt:"animal to adopt",src:s.imageURL}),o.a.createElement("div",{className:"content"},o.a.createElement("h4",null," ",s.name," "),o.a.createElement("p",null," Age: ",s.age," "),o.a.createElement("p",null," Breed: ",s.breed," "),o.a.createElement("p",null," ",s.description," "),o.a.createElement("p",null," ",s.story," ")),o.a.createElement("button",{disabled:!this.state.adoptEnabled,onClick:function(e){return n.handleAdoption(e)},className:"adopt-me"}," ","Adopt Me!"," "))}return o.a.createElement("div",{className:"adoption"},o.a.createElement(h.b,{to:"/"},o.a.createElement("button",null," Home ")),o.a.createElement("form",{className:"queue-form",onSubmit:function(e){return n.handleSubmit(e)}},o.a.createElement("input",{name:"person",id:"person",type:"text",placeholder:"Enter Name in Queue",onChange:function(e){return n.onChange(e)},value:this.state.people}),o.a.createElement("button",{disabled:this.state.addPersonDisabled,type:"submit"}," ","Submit"," ")),o.a.createElement("h3",null," Adoptable Cats "),this.props.cats.length<=0?o.a.createElement("h2",null," Shelter is empty "):null,o.a.createElement("div",{className:"list"},t),o.a.createElement("div",{className:"queue"},a),this.props.catList.length<=0?o.a.createElement("h2",null," Congratulations on your new cat! "):null)}}]),t}(a.Component),A=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleAdoption=function(t){fetch("".concat(f.a.API_BASE_URL,"/dogs"),{method:"DELETE",header:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Something went wrong adopting this pet, please try again later")})).then((function(t){e.props.adoptDog(t)})).then((function(){fetch("".concat(f.a.API_BASE_URL,"/dog-queue"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Something went wrong adopting this pet, please try again later")})).then((function(t){e.props.removeDogPerson(t)}))})).then((function(){2===e.props.dogList.length?e.setState({adoptEnabled:!0}):e.setState({adoptEnabled:!1})}))},e.addPerson=function(t){var n;(n=t,fetch("".concat(f.a.API_BASE_URL,"/dog-queue"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({person:n})}).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))).then((function(t){e.props.dogListAdd(t),e.intervalForDemo()}))},e.handleSubmit=function(t){t.preventDefault();var n=t.target.person;e.addPerson(n.value)},e.state={userInput:0,intervalId:0,adoptEnabled:!1,addPersonDisabled:!1},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState({userInput:e.target.value})}},{key:"intervalForDemo",value:function(){var e=this,t=!1,n=["Meet","Neel","Jay","Ayushi","Vishal"];this.intervalId=setInterval((function(){if(t&&e.props.dogList.length>=5&&(t=!1),0===e.props.dogList.length&&(t=!0),t){var a=Math.floor(Math.random()*n.length);e.addPerson(n[a]),e.setState({addPersonDisabled:!0,adoptEnabled:!1})}else e.handleAdoption(),e.setState({addPersonDisabled:!1,adoptEnabled:!0});if(e.props.dogs.length<=0)return clearInterval(e.intervalId)}),5e3)}},{key:"componentWillUnmount",value:function(){return clearInterval(this.intervalId)}},{key:"render",value:function(){for(var e,t,n=this,a=this.props.dogList.map((function(e,t){return o.a.createElement("div",{key:t,className:"person"},o.a.createElement("h3",null,e))})),r=0;r<this.props.dogs.length;r++)e=this.props.dogs[r];if(e){var s=e;t=o.a.createElement("div",{key:s.id,className:"animal"},o.a.createElement("img",{alt:"animal to adopt",src:s.imageURL}),o.a.createElement("div",{className:"content"},o.a.createElement("h4",null," ",s.name," "),o.a.createElement("p",null," Age: ",s.age," "),o.a.createElement("p",null," Breed: ",s.breed," "),o.a.createElement("p",null," ",s.description," "),o.a.createElement("p",null," ",s.story," ")),o.a.createElement("button",{disabled:!this.state.adoptEnabled,onClick:function(e){return n.handleAdoption(e)},className:"adopt-me"}," ","Adopt Me!"," "))}return o.a.createElement("div",{className:"adoption"},o.a.createElement(h.b,{to:"/"},o.a.createElement("button",null," Home ")),o.a.createElement("form",{className:"queue-form",onSubmit:function(e){return n.handleSubmit(e)}},o.a.createElement("input",{name:"person",id:"person",type:"text",placeholder:"Enter Name in Queue",onChange:function(e){return n.onChange(e)},value:this.state.people}),o.a.createElement("button",{disabled:this.state.addPersonDisabled,type:"submit"}," ","Submit"," ")),o.a.createElement("h3",null," Adoptable Dogs "),this.props.dogs.length<=0?o.a.createElement("h2",null," Shelter is empty "):null,o.a.createElement("div",{className:"list"},t),o.a.createElement("div",{className:"queue"},a)," ",this.props.dogList.length<=0?o.a.createElement("h2",null," Congratulations on your new dog! "):null," ")}}]),t}(a.Component),L=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"home"},o.a.createElement("h1",null," FIFO Pet Adoption "),o.a.createElement("p",null," ","FIFO is a pet adoption agency that takes a 'first-in-first-out' approach to adoption.")," ",o.a.createElement("p",null," ","The first animal that gets admitted to our shelter is the first one that gets adopted."),o.a.createElement("img",{src:"https://i.redd.it/q2cbr86p8je61.jpg",alt:"adopt a pet",className:"responsive"}),o.a.createElement(h.b,{to:"/cat-adopt"},o.a.createElement("button",null," View Cats ")),o.a.createElement(h.b,{to:"/dog-adopt"},o.a.createElement("button",null," View Dogs ")))}}]),t}(a.Component),y=n(12),j=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={people:[],pets:[],catList:[],dogList:[],cats:[],dogs:[],error:null},n.removeDogPerson=function(){g().then((function(e){return n.setState({dogList:e})}))},n.removeCatPerson=function(){E().then((function(e){return n.setState({catList:e})}))},n.dogListAdd=function(e){n.setState({dogList:[].concat(Object(i.a)(n.state.dogList),[e])})},n.catListAdd=function(e){n.setState({catList:[].concat(Object(i.a)(n.state.catList),[e])})},n.adoptCat=function(){n.setState({cats:n.state.cats.slice(1)}),v().then((function(e){return n.setState({cats:e})}))},n.adoptDog=function(){n.setState({dogs:n.state.dogs.slice(1)}),b().then((function(e){return n.setState({dogs:e})}))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[fetch("".concat(f.a.API_BASE_URL,"/people")).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)})),fetch("".concat(f.a.API_BASE_URL,"/pets")).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)})),b(),v(),g(),E()];Promise.all(t).then((function(t){return e.setState({people:t[0],pets:t[1],dogs:t[2],cats:t[3],dogList:t[4],catList:t[5]})})).catch((function(t){e.setState({error:t})}))}},{key:"render",value:function(){var e=this;return o.a.createElement(h.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(y.a,{exact:!0,path:"/",component:L}),o.a.createElement(y.a,{path:"/cat-adopt",render:function(t){return o.a.createElement(S,Object.assign({},t,{adoptCat:e.adoptCat,removeCatPerson:e.removeCatPerson,catListAdd:e.catListAdd,catList:e.state.catList,cats:e.state.cats}))}}),o.a.createElement(y.a,{path:"/dog-adopt",render:function(t){return o.a.createElement(A,Object.assign({},t,{adoptDog:e.adoptDog,removeDogPerson:e.removeDogPerson,dogListAdd:e.dogListAdd,dogList:e.state.dogList,dogs:e.state.dogs}))}})))}}]),t}(a.Component);n(34);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.e22767f8.chunk.js.map